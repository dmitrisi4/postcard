!function(t,i,s){var e,o,n=t.event;e=n.special.debouncedresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(t,i){var s=this,a=arguments,h=function(){t.type="debouncedresize",n.dispatch.apply(s,a)};o&&clearTimeout(o),i?h():o=setTimeout(h,e.threshold)},threshold:50};var a=t(i),h=i.Modernizr;t.PFold=function(i,s){this.$el=t(s),this._init(i)},t.PFold.defaults={perspective:1200,speed:450,easing:"linear",folddelay:0,folds:2,folddirection:["right","top"],overlays:!0,centered:!1,containerSpeedFactor:1,containerEasing:"linear",onEndFolding:function(){return!1},onEndUnfolding:function(){return!1}},t.PFold.prototype={_init:function(i){this.options=t.extend(!0,{},t.PFold.defaults,i),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[h.prefixed("transition")],this.support=h.csstransitions&&h.csstransforms3d,this.support&&(this.$el.css("perspective",this.options.perspective+"px"),this.$el.css("transition","all "+this.options.speed*this.options.folds*this.options.containerSpeedFactor+"ms "+this.options.containerEasing)),this.initialDim={width:this.$el.width(),height:this.$el.height(),left:0,top:0},this._layout(),this.$iContent=this.$el.find(".uc-initial"),this.iContent=this.$iContent.html(),this.$fContent=this.$el.find(".uc-final"),this.fContent=this.$fContent.html(),this.$finalEl=t('<div class="uc-final-wrapper"></div>').append(this.$iContent.clone().hide(),this.$fContent).hide(),this.$el.append(this.$finalEl),this._setDimOffset(),this.opened=!1,this.animating=!1,this._initEvents()},_layout:function(){var i=this.$el.children("div.uc-initial-content"),s=this._getFinalDim(),e=this.$el.children("div.uc-final-content").css({width:s.width,height:s.height});i.wrap('<div class="uc-initial"></div>'),e.show().wrap(t('<div class="uc-final"></div>'))},_initEvents:function(){var t=this;a.on("debouncedresize.pfold",(function(i){t._setDimOffset()}))},_setDimOffset:function(){this.initialDim.offsetL=this.$el.offset().left-a.scrollLeft(),this.initialDim.offsetT=this.$el.offset().top-a.scrollTop(),this.initialDim.offsetR=a.width()-this.initialDim.offsetL-this.initialDim.width,this.initialDim.offsetB=a.height()-this.initialDim.offsetT-this.initialDim.height},_getTranslationValue:function(){for(var t=0,i=0,s=0,e=0,o=0;o<this.options.folds;++o){switch(this.options.folddirection[o]||"bottom"){case"left":t+=this.initialDim.width*Math.pow(2,s)/2,s+=1;break;case"right":t-=this.initialDim.width*Math.pow(2,s)/2,s+=1;break;case"top":i+=this.initialDim.height*Math.pow(2,e)/2,e+=1;break;case"bottom":i-=this.initialDim.height*Math.pow(2,e)/2,e+=1}}return{x:t,y:i}},_getAccumulatedValue:function(){for(var t=0,i=0,s=0,e=0,o=0,n=0,a=0;a<this.options.folds;++a){switch(this.options.folddirection[a]||"bottom"){case"left":t+=this.initialDim.width*Math.pow(2,o),o+=1;break;case"right":i+=this.initialDim.width*Math.pow(2,o),o+=1;break;case"top":s+=this.initialDim.height*Math.pow(2,n),n+=1;break;case"bottom":e+=this.initialDim.height*Math.pow(2,n),n+=1}}return{l:t,r:i,t:s,b:e}},_getFinalDim:function(){for(var t=0,i=0,s=0;s<this.options.folds;++s){switch(this.options.folddirection[s]||"bottom"){case"left":case"right":t+=1;break;case"top":case"bottom":i+=1}}return{width:this.initialDim.width*Math.pow(2,t),height:this.initialDim.height*Math.pow(2,i)}},_updateStepStyle:function(t){var i,s,e,o;return"fold"===t?(i="left"===this.lastDirection||"right"===this.lastDirection?this.lastStyle.width/2:this.lastStyle.width,s="left"===this.lastDirection||"right"===this.lastDirection?this.lastStyle.height:this.lastStyle.height/2,e="left"===this.lastDirection?this.lastStyle.left+this.lastStyle.width/2:this.lastStyle.left,o="top"===this.lastDirection?this.lastStyle.top+this.lastStyle.height/2:this.lastStyle.top):(i="left"===this.lastDirection||"right"===this.lastDirection?2*this.lastStyle.width:this.lastStyle.width,s="left"===this.lastDirection||"right"===this.lastDirection?this.lastStyle.height:2*this.lastStyle.height,e="left"===this.lastDirection?this.lastStyle.left-this.lastStyle.width:this.lastStyle.left,o="top"===this.lastDirection?this.lastStyle.top-this.lastStyle.height:this.lastStyle.top),{width:i,height:s,left:e,top:o}},_getOppositeDirection:function(t){var i;switch(t){case"left":i="right";break;case"right":i="left";break;case"top":i="bottom";break;case"bottom":i="top"}return i},_start:function(i,s){s|=0;var e=this,o="fold"===i?{width:this.lastStyle.width,height:this.lastStyle.height,left:this.lastStyle.left,top:this.lastStyle.top}:this.initialDim,n="",a="",h="",l="fold"===i?this.options.folddirection[this.options.folds-1-s]||"bottom":this.options.folddirection[s]||"bottom",f="fold"===i?this.options.folddirection[this.options.folds-2-s]||"bottom":"";switch(this.$el.find("div.uc-part").remove(),s){case 0:case this.options.folds-1:if("fold"===i){if(s===this.options.folds-1&&(o=this.initialDim,n=this.iContent),0===s){this._setDimOffset(),this.$el.css({left:0,top:0});a=(d=this._setLastStep(l,o)).bottom,h=d.top;this.$finalEl.hide().children().hide()}}else{if(0===s){this._setDimOffset();var r=this._getTranslationViewport();this.$el.addClass("uc-current").css({left:r.ftx,top:r.fty}),n=this.iContent,this.$finalEl.hide().children().hide()}else o=this._updateStepStyle(i);if(s===this.options.folds-1){var d;a=(d=this._setLastStep(l,o)).bottom,h=d.top}}break;case this.options.folds:o="fold"===i?this.initialDim:this._updateStepStyle(i);var c="fold"===i?0:1;return this.$el.find(".uc-part").remove(),this.$finalEl.css(o).show().children().eq(c).show(),this.opened="fold"!==i,this.animating=!1,"fold"===i?(this.$el.removeClass("uc-current"),this.options.onEndFolding()):this.options.onEndUnfolding(),!1;default:o=this._updateStepStyle(i)}this.support&&(o.transition="all "+this.options.speed+"ms "+this.options.easing);var p="uc-unfold-"+l,u=t('<div class="'+("fold"===i?"uc-unfold uc-part "+p:"uc-part "+p)+'"><div class="uc-front">'+n+'</div><div class="uc-back">'+h+"</div></div>").css(o),m=t('<div class="uc-part uc-single">'+a+"</div>").css(o);this.lastDirection="fold"===i?f:l,this.lastStyle=o,this.$el.append(m,u),this.options.overlays&&this.support&&this._addOverlays(i,m,u),setTimeout((function(){if("fold"===i?u.removeClass("uc-unfold"):u.addClass("uc-unfold"),e.support?u.on(e.transEndEventName,(function(t){"uc-flipoverlay"!==t.target.className&&s<e.options.folds&&setTimeout((function(){e._start(i,s+1)}),e.options.folddelay)})):e._start(i,s+1),e.options.overlays&&e.support){var t="fold"===i?1:0,o="fold"===i?.5:0,n="fold"===i?0:.5;e.$bottomOverlay.css("opacity",t),e.$topBackOverlay.css("opacity",o),e.$topFrontOverlay.css("opacity",n)}}),30)},_getTranslationViewport:function(){var t=this._getAccumulatedValue(),i=0,s=0;this.fOffsetL=this.initialDim.offsetL-t.l,this.fOffsetT=this.initialDim.offsetT-t.t,this.fOffsetR=this.initialDim.offsetR-t.r,this.fOffsetB=this.initialDim.offsetB-t.b,this.fOffsetL<0&&(i=Math.abs(this.fOffsetL)),this.fOffsetT<0&&(s=Math.abs(this.fOffsetT)),this.fOffsetR<0&&(i-=Math.abs(this.fOffsetR)),this.fOffsetB<0&&(s-=Math.abs(this.fOffsetB));var e=i,o=s;if(this.options.centered){var n=this._getTranslationValue();e=n.x>0&&this.fOffsetR+n.x>=0?this.fOffsetL>=0?Math.min(n.x,this.fOffsetR):n.x+(i-n.x):n.x<0&&this.fOffsetL+n.x>=0&&this.fOffsetR>=0?Math.min(n.x,this.fOffsetL):n.x+(i-n.x),o=n.y>0&&this.fOffsetB+n.y>=0?this.fOffsetT>=0?Math.min(n.y,this.fOffsetB):n.y+(s-n.y):n.y<0&&this.fOffsetT+n.y>=0&&this.fOffsetB>=0?Math.min(n.y,this.fOffsetT):n.y+(s-n.y)}return{ftx:e,fty:o}},_setLastStep:function(t,i){var s="",e="";switch(t){case"bottom":e="margin-top: -"+i.height+"px";break;case"top":s="margin-top: -"+i.height+"px";break;case"left":e="width:"+2*i.width+"px",s="width:"+2*i.width+"px;margin-left: -"+i.width+"px";break;case"right":e="with:"+2*i.width+"px;margin-left: -"+i.width+"px",s="width:"+2*i.width+"px"}return{bottom:'<div class="uc-inner"><div class="uc-inner-content" style="'+s+'">'+this.fContent+"</div></div>",top:'<div class="'+("top"===t||"bottom"===t?"uc-inner uc-inner-rotate":"uc-inner")+'"><div class="uc-inner-content" style="'+e+'">'+this.fContent+"</div></div>"}},_addOverlays:function(i,s,e){var o,n,a;this.$bottomOverlay=t('<div class="uc-overlay"></div>'),this.$topFrontOverlay=t('<div class="uc-flipoverlay"></div>'),this.$topBackOverlay=t('<div class="uc-flipoverlay"></div>'),"fold"===i?(o={transition:"opacity "+this.options.speed/2+"ms "+this.options.easing+" "+this.options.speed/2+"ms"},n={opacity:.5,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},a={opacity:0,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing}):(o={opacity:1,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},n={transition:"opacity "+this.options.speed/2+"ms "+this.options.easing},a={opacity:.5,transition:"opacity "+this.options.speed/2+"ms "+this.options.easing+" "+this.options.speed/2+"ms"}),s.append(this.$bottomOverlay.css(o)),e.children("div.uc-front").append(this.$topFrontOverlay.css(n)).end().children("div.uc-back").append(this.$topBackOverlay.css(a))},unfold:function(){if(this.opened||this.animating)return!1;this.animating=!0,this._start("unfold")},fold:function(){if(!this.opened||this.animating)return!1;this.animating=!0,this._start("fold")},getStatus:function(){return this.opened?"opened":"closed"}};var l=function(t){i.console&&i.console.error(t)};t.fn.pfold=function(i){var s=t.data(this,"pfold");if("string"==typeof i){var e=Array.prototype.slice.call(arguments,1);this.each((function(){s?t.isFunction(s[i])&&"_"!==i.charAt(0)?s[i].apply(s,e):l("no such method '"+i+"' for pfold instance"):l("cannot call methods on pfold prior to initialization; attempted to call method '"+i+"'")}))}else this.each((function(){s?s._init():s=t.data(this,"pfold",new t.PFold(i,this))}));return s}}(jQuery,window);
//# sourceMappingURL=index.7e5818aa.js.map
